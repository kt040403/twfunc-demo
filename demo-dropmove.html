<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TwFunc ãƒªã‚¹ãƒˆé–“ç§»å‹•ãƒ‡ãƒ¢</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <style>
    body {
      font-family: "Helvetica Neue", Arial, "Hiragino Kaku Gothic ProN", "Hiragino Sans", Meiryo, sans-serif;
      padding: 40px;
      max-width: 1200px;
      margin: 0 auto;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
    }

    .container {
      background-color: #fff;
      border-radius: 12px;
      padding: 40px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
    }

    h1 {
      color: #333;
      border-bottom: 3px solid #667eea;
      padding-bottom: 15px;
      margin-bottom: 30px;
    }

    h2 {
      color: #555;
      margin-top: 40px;
      margin-bottom: 20px;
    }

    .demo-section {
      background-color: #fff;
      padding: 30px;
      margin-bottom: 30px;
      border-radius: 8px;
      border: 1px solid #e0e0e0;
    }

    .dual-list-container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 30px;
      margin: 20px 0;
    }

    .list-box {
      background-color: #f9f9f9;
      border-radius: 8px;
      padding: 20px;
      border: 2px solid #ddd;
    }

    .list-box h3 {
      margin: 0 0 15px 0;
      padding-bottom: 10px;
      border-bottom: 2px solid #667eea;
      color: #667eea;
      font-size: 18px;
    }

    .list-box ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .list-box li {
      padding: 12px 15px;
      margin: 5px 0;
      background-color: #fff;
      border: 1px solid #ddd;
      border-radius: 5px;
      cursor: move;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .list-box li:hover {
      background-color: #f0f4ff;
      transform: translateX(3px);
    }

    .handle {
      font-size: 18px;
      color: #999;
      cursor: move;
    }

    .item-icon {
      font-size: 20px;
    }

    .note {
      padding: 15px 20px;
      background-color: #fff3cd;
      border-left: 4px solid #ffc107;
      margin: 20px 0;
      border-radius: 4px;
    }

    .info {
      padding: 15px 20px;
      background-color: #d1ecf1;
      border-left: 4px solid #0c5460;
      margin: 20px 0;
      border-radius: 4px;
    }

    .result-box {
      margin-top: 20px;
      padding: 15px;
      background-color: #e8f5e9;
      border-radius: 5px;
      border: 1px solid #4caf50;
      display: none;
    }

    .code {
      background-color: #f4f4f4;
      padding: 3px 8px;
      border-radius: 3px;
      font-family: 'Courier New', monospace;
      font-size: 13px;
      color: #c7254e;
      display: inline-block;
      margin: 5px 0;
    }

    footer {
      text-align: center;
      margin-top: 50px;
      padding: 20px;
      color: #fff;
    }
  </style>
  <link rel="stylesheet" href="css/func.dropmove.css">
</head>
<body>
  <div class="container">
    <h1>ğŸ”„ TwFunc ãƒªã‚¹ãƒˆé–“ç§»å‹•ãƒ‡ãƒ¢</h1>

    <div class="info">
      <strong>ğŸ’¡ ä½¿ã„æ–¹ï¼š</strong> å·¦ã®ãƒªã‚¹ãƒˆã‹ã‚‰å³ã®ãƒªã‚¹ãƒˆã¸ã€ã¾ãŸã¯å³ã‹ã‚‰å·¦ã¸ã‚¢ã‚¤ãƒ†ãƒ ã‚’ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã§ãã¾ã™ã€‚
    </div>

    <div class="demo-section">
      <h2>ä¾‹1: ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ã‚·ã‚¹ãƒ†ãƒ </h2>
      <p>å€™è£œãƒªã‚¹ãƒˆã‹ã‚‰ç™»éŒ²ãƒªã‚¹ãƒˆã¸ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ç§»å‹•ã§ãã¾ã™ã€‚</p>

      <div class="dual-list-container">
        <div class="list-box">
          <h3>ğŸ“‹ å€™è£œãƒ¦ãƒ¼ã‚¶ãƒ¼</h3>
          <ul func="dropmove" dropmove-group="users" dropmove-callback="handleUserMove">
            <li><span class="item-icon">ğŸ‘¤</span> ç”°ä¸­å¤ªéƒ</li>
            <li><span class="item-icon">ğŸ‘¤</span> ä½è—¤èŠ±å­</li>
            <li><span class="item-icon">ğŸ‘¤</span> éˆ´æœ¨ä¸€éƒ</li>
            <li><span class="item-icon">ğŸ‘¤</span> é«˜æ©‹ç¾å’²</li>
            <li><span class="item-icon">ğŸ‘¤</span> ä¼Šè—¤å¥å¤ª</li>
          </ul>
        </div>

        <div class="list-box">
          <h3>âœ… ç™»éŒ²ãƒ¦ãƒ¼ã‚¶ãƒ¼</h3>
          <ul func="dropmove" dropmove-group="users" dropmove-callback="handleUserMove">
            <li><span class="item-icon">ğŸ‘¤</span> å±±ç”°å¤ªéƒ</li>
          </ul>
        </div>
      </div>

      <div class="code">
        func="dropmove" dropmove-group="users" dropmove-callback="handleUserMove"
      </div>

      <div id="user-result" class="result-box"></div>
    </div>

    <div class="demo-section">
      <h2>ä¾‹2: ã‚¿ã‚¹ã‚¯ç®¡ç†ï¼ˆãƒãƒ³ãƒ‰ãƒ«ä»˜ãï¼‰</h2>
      <p>ãƒãƒ³ãƒ‰ãƒ«ï¼ˆâ‰¡ï¼‰ã‚’ãƒ‰ãƒ©ãƒƒã‚°ã™ã‚‹ã¨ã€ãƒ†ã‚­ã‚¹ãƒˆã®é¸æŠã‚„ã‚³ãƒ”ãƒ¼ãŒã§ãã¾ã™ã€‚</p>

      <div class="dual-list-container">
        <div class="list-box">
          <h3>ğŸ“ TODO</h3>
          <ul func="dropmove" dropmove-group="tasks" dropmove-handle=".handle" dropmove-callback="handleTaskMove">
            <li><span class="handle">â‰¡</span> <span>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè³‡æ–™ã‚’ä½œæˆ</span></li>
            <li><span class="handle">â‰¡</span> <span>ä¼šè­°ã®è­°äº‹éŒ²ã‚’ã¾ã¨ã‚ã‚‹</span></li>
            <li><span class="handle">â‰¡</span> <span>ãƒ¡ãƒ¼ãƒ«ã®è¿”ä¿¡ã‚’ã™ã‚‹</span></li>
            <li><span class="handle">â‰¡</span> <span>ãƒ¬ãƒãƒ¼ãƒˆã‚’æå‡º</span></li>
          </ul>
        </div>

        <div class="list-box">
          <h3>âœ”ï¸ å®Œäº†</h3>
          <ul func="dropmove" dropmove-group="tasks" dropmove-handle=".handle" dropmove-callback="handleTaskMove">
            <li><span class="handle">â‰¡</span> <span>æœã®ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°</span></li>
          </ul>
        </div>
      </div>

      <div class="code">
        func="dropmove" dropmove-group="tasks" dropmove-handle=".handle" dropmove-callback="handleTaskMove"
      </div>

      <div id="task-result" class="result-box"></div>
    </div>

    <div class="demo-section">
      <h2>ä¾‹3: ã‚«ãƒ†ã‚´ãƒªåˆ†é¡</h2>
      <p>å•†å“ã‚’æœªåˆ†é¡ã‹ã‚‰å„ã‚«ãƒ†ã‚´ãƒªã¸ç§»å‹•ã§ãã¾ã™ã€‚</p>

      <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px;">
        <div class="list-box">
          <h3>ğŸ“¦ æœªåˆ†é¡</h3>
          <ul func="dropmove" dropmove-group="products" dropmove-callback="handleCategoryMove">
            <li><span class="item-icon">ğŸ“±</span> ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³</li>
            <li><span class="item-icon">ğŸ’»</span> ãƒãƒ¼ãƒˆãƒ‘ã‚½ã‚³ãƒ³</li>
            <li><span class="item-icon">ğŸ§</span> ãƒ¯ã‚¤ãƒ¤ãƒ¬ã‚¹ã‚¤ãƒ¤ãƒ›ãƒ³</li>
            <li><span class="item-icon">âŒš</span> ã‚¹ãƒãƒ¼ãƒˆã‚¦ã‚©ãƒƒãƒ</li>
          </ul>
        </div>

        <div class="list-box">
          <h3>ğŸ“± ãƒ¢ãƒã‚¤ãƒ«æ©Ÿå™¨</h3>
          <ul func="dropmove" dropmove-group="products" dropmove-callback="handleCategoryMove">
          </ul>
        </div>

        <div class="list-box">
          <h3>ğŸ–¥ï¸ PCå‘¨è¾ºæ©Ÿå™¨</h3>
          <ul func="dropmove" dropmove-group="products" dropmove-callback="handleCategoryMove">
          </ul>
        </div>
      </div>

      <div id="category-result" class="result-box"></div>
    </div>

    <div class="note">
      <strong>ğŸ’¡ ãƒ’ãƒ³ãƒˆï¼š</strong>
      <ul style="margin: 10px 0; padding-left: 20px;">
        <li>åŒã˜<code>dropmove-group</code>ã‚’æŒã¤ãƒªã‚¹ãƒˆé–“ã§ã®ã¿ç§»å‹•ã§ãã¾ã™</li>
        <li>ãƒãƒ³ãƒ‰ãƒ«ã‚’æŒ‡å®šã™ã‚‹ã¨ã€ãƒ†ã‚­ã‚¹ãƒˆã®é¸æŠã‚„ã‚³ãƒ”ãƒ¼ãŒå¯èƒ½ã«ãªã‚Šã¾ã™</li>
        <li>ãƒªã‚¹ãƒˆå†…ã§ã®ã‚¢ã‚¤ãƒ†ãƒ ã®é †åºã‚‚ä¸¦ã³æ›¿ãˆã§ãã¾ã™</li>
      </ul>
    </div>
  </div>

  <footer>
    <p>&copy; 2025 TwFunc Demo. All rights reserved.</p>
  </footer>

  <script>
    window.TwFuncVer = "1.0.0";
  </script>

  <script type="module">
    import TwFunc, { TwInputControl } from './js/func.js';
    window.TwFunc = TwFunc;
    window.TwInputControl = TwInputControl;

    // æ©Ÿèƒ½ã‚’ä½œæˆ
    TwFunc.create("dropmove");
  </script>

  <script>
    // ãƒ¦ãƒ¼ã‚¶ãƒ¼ç§»å‹•ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯
    function handleUserMove(element, fromContainer, toContainer, fromIndex, toIndex) {
      const userName = element.textContent.trim();
      const fromTitle = $(fromContainer).prev('h3').text();
      const toTitle = $(toContainer).prev('h3').text();

      const result = document.getElementById('user-result');
      result.style.display = 'block';
      result.innerHTML = `<strong>âœ… ç§»å‹•å®Œäº†ï¼</strong><br>ã€Œ${userName}ã€ã‚’ã€Œ${fromTitle}ã€ã‹ã‚‰ã€Œ${toTitle}ã€ã«ç§»å‹•ã—ã¾ã—ãŸã€‚`;

      setTimeout(() => {
        result.style.display = 'none';
      }, 3000);
    }

    // ã‚¿ã‚¹ã‚¯ç§»å‹•ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯
    function handleTaskMove(element, fromContainer, toContainer, fromIndex, toIndex) {
      const taskName = $(element).find('span:last').text().trim();
      const fromTitle = $(fromContainer).prev('h3').text();
      const toTitle = $(toContainer).prev('h3').text();

      const result = document.getElementById('task-result');
      result.style.display = 'block';
      result.innerHTML = `<strong>âœ… ã‚¿ã‚¹ã‚¯æ›´æ–°ï¼</strong><br>ã€Œ${taskName}ã€ã‚’ã€Œ${fromTitle}ã€ã‹ã‚‰ã€Œ${toTitle}ã€ã«ç§»å‹•ã—ã¾ã—ãŸã€‚`;

      setTimeout(() => {
        result.style.display = 'none';
      }, 3000);
    }

    // ã‚«ãƒ†ã‚´ãƒªç§»å‹•ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯
    function handleCategoryMove(element, fromContainer, toContainer, fromIndex, toIndex) {
      const productName = element.textContent.trim();
      const fromTitle = $(fromContainer).prev('h3').text();
      const toTitle = $(toContainer).prev('h3').text();

      const result = document.getElementById('category-result');
      result.style.display = 'block';
      result.innerHTML = `<strong>âœ… ã‚«ãƒ†ã‚´ãƒªåˆ†é¡å®Œäº†ï¼</strong><br>ã€Œ${productName}ã€ã‚’ã€Œ${fromTitle}ã€ã‹ã‚‰ã€Œ${toTitle}ã€ã«ç§»å‹•ã—ã¾ã—ãŸã€‚`;

      setTimeout(() => {
        result.style.display = 'none';
      }, 3000);
    }

    // ã‚°ãƒ­ãƒ¼ãƒãƒ«ã«ç™»éŒ²
    window.handleUserMove = handleUserMove;
    window.handleTaskMove = handleTaskMove;
    window.handleCategoryMove = handleCategoryMove;
  </script>
</body>
</html>
